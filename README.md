## メモリと変数
パソコンやスマートフォンにはメモリ(RAM)という記憶装置があります。このメモリには1、または0の状態を記憶しておく部品が大量に入っていて、例えるならば、超巨大な一列ロッカーのような構造をしています。
ロッカー一個一個を1ビットと数え、これらを8個ワンセットで1バイトとし、メモリ内では1バイトごとに番号が割り振られています。
変数を宣言すると、メモリ上に一つの塊としてその変数の領域が確保されます。確保される領域の広さは、変数の型によって異なり、例えばint型なら4バイト、double型なら8バイトです。
変数はメモリ上に存在するため、確保された場所の番号によって区別されます。区別する番号のことをアドレスといい、16進数で表します。

例として、変数iのアドレスを参照するプログラムを示します。アドレスは%p指定子を用いることで表示できます。
```
#include <stdio.h>

int main(void)
{
  int i; 
  printf("%p\n",&i); //%pでアドレスを表示

  return 0;
}
```

実行した結果は次のようになりました。
```
./a.out 
0x7fff702e52fc //変数iのアドレスの値
```
このことから変数iは0x7fff702e52fc番地にあることがわかります。ただし、実行結果は環境によって異なります。


## ポインタ変数
ポインタ変数とは、変数のアドレスを記憶する変数で、アドレスを参照してメモリ上の変数に直接アクセスするためのものです。ポインタ変数は次のように宣言します。
```
int *p; //あくまでポインタ変数はp。*pではありません。
```

またポインタ変数を複数宣言するとき、
```
int *p1,p2,p3;
```
と宣言すると、p1,p2は普通のint型の変数になってしまうので、
```
int *p1,*p2,*p3;
```
のように宣言します。


## アドレスを記憶する変数
ポインタ変数を使うとき、主に次の演算子を使います。
```
&:変数のアドレスを参照する。
*:ポインタ変数が保持している値を参照する。
```

例として、ポインタ変数pに変数iのアドレスを代入するプログラムを示します。
```
#include <stdio.h>

int main(void)
{
  int *p;
  int i;
  
  p = &i; //変数iのアドレスをポインタ変数pに代入

  printf("変数iのアドレス:\t%p\n",&i);
  printf("ポインタ変数pのアドレス:%p\n",p);

  return 0;
}
```

実行結果は次のようになります。
```
変数iのアドレス:	    0x7fffb7ef245c
ポインタ変数pのアドレス:0x7fffb7ef245c
```
ポインタ変数に変数iのアドレスが代入されていることがわかります。


## ポインタ変数のもう一つの使い方
先ほどのプログラムでは、ポインタ変数にアドレスを代入できることがわかりました。ポインタ変数には、もう一つ、通常の変数と同様に使用できる機能があります。
```
#include <stdio.h>

int main(void)
{
  int i;
  int *p;

  p = &i; //ポインタ変数pに変数iのアドレスを代入
  *p = 10; //iのアドレスを代入しているので、iに代入していることと同じ

  printf("*p = %d\n",*p); //ポインタ変数pのアドレスの値を表示
  printf("i = %d\n",i);

  return 0;
}
```

実行結果は次のようになります。
```
*p = 10
i = 10
```
